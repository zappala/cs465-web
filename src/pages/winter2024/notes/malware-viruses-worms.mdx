---
layout: ../../../layouts/SemesterMarkdown.astro
---

# Malware -- viruses and worms

## Ungraded Quiz

- What is the difference between a virus and a worm?
- What are some common ways to detect malware?
- What is your current strategy for backing up your important files?

## Key Concepts

### Malware

- important to study past examples, even if fixed, to understand past mistakes
- malware: _"software intentionally designed or deployed to have effects contrary to the best interests of one or more users"_
- know ways malware gets onto a device
- malware is hard to detect
- reduce risk of malware using code signing, anti-virus programs
- tension between easy-to-update software and malware -- if we never installed programs, and installing programs was impossible/disabled, then we could eliminate this problem (except for any flaws in the system code that are exploitable)

### Viruses and worms

- virus: _a program that can infect other programs or files by modifying them to include a possibly evolved copy of itself_
  - propagates with help from users -- e.g. inserting a USB drive or clicking an email attachment
  - often will check if it has already infected a file
- worm
  - propagates automatically
  - spreads across machines over networks
  - exploit software vulnerabilities
- generic structure
  - dormancy
  - propagation
  - trigger condition
  - payload
- see [Table 7.1, page 186](https://people.scs.carleton.ca/~paulv/toolsjewels/TJrev1/ch7-rev1.pdf)

### Propagation

- spread by email is a significant vector
- see [Figure 7.1, page 188](https://people.scs.carleton.ca/~paulv/toolsjewels/TJrev1/ch7-rev1.pdf) for how viruses place code in an executable file
- understand why scripts (shell scripts or Python scripts) cause fewer problems for code injection by an attacker
- Modern data files contain embedded scripts, so opening them can trigger a virus

### Well-known viruses

- the Brain virus
  - understand what the boot sector is and why this can play a role in virus propagation
  - [the Brain virus was accidental](<https://en.wikipedia.org/wiki/Brain_(computer_virus)>)
- CIH Chernobyl virus
  - caused hardware damage!
  - could overwrite the BIOS
  - clever trick -- writing into empty space in files, splitting across multiple files, so hard to detect since it doesn't change file length
  - importance of backing up information

### Undecidability

- Proof that it is undecidable for a single program to detect all viruses -- understand the proof
- see below for more resources

### Malware detection

- Detection by using signatures -- a sequence of bytes that identify it
  - tested against databases of legitimate software to ensure no false matches
  - protects only against known malware
- Detection by using hashes of known good programs to ensure they don't change
- Detection by behavioral signatures

## Extra resources

- take a look at [Google Scholar search for phishing](https://scholar.google.com/scholar?hl=en&as_sdt=0%2C45&q=phishing&btnG=)

- [Inside the Slammer worm](https://ieeexplore.ieee.org/document/1219056?denied=)

- [How to Teach the Undecidability of Malware Detection Problem and Halting Problem](https://hal.science/hal-02559585/document)

- [a more formal proof of the undecidability of malware detection is given by Cohen](https://www.sciencedirect.com/science/article/abs/pii/0167404889900898)

- [Undecidable Problems in Malware Analysis](https://comodemia.comodo.com/Undecidable_Problems_in_Malware_Analysis.pdf)
  - in other words, CS 252 actually is an important class :-)
